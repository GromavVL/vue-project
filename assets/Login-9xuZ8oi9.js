import{M as d,c as m}from"./Msg-CiP7AL8w.js";import{_ as p,c as f,a as g,b as e,r as c,w as u,d as l,v as a,o as h}from"./index-x6f1RFcC.js";const v={name:"Login",components:{Msg:d},inject:["appUrl","setUser"],data(){return{img:1,form:{email:"",password:""}}},mounted(){this.img=this.randomIntFromInterval(1,7)},methods:{randomIntFromInterval(t,s){return Math.floor(Math.random()*(s-t+1)+t)},doLogin(){if(!this.form.email||!this.form.password){this.$refs.msg?this.$refs.msg.alertFun("Please fill all fields"):alert("Please fill all fields");return}m(this.appUrl).login(this.form).then(s=>{s.data.error?this.$refs.msg?this.$refs.msg.alertFun(s.data.error):alert(s.data.error):s.data.user&&(this.setUser(s.data.user),this.$router.push("/campaigns"))}).catch(s=>{console.error("Login error:",s),this.$refs.msg&&this.$refs.msg.alertFun("Network Error")})}}},_={class:"login-container"},w={id:"left-area",class:"image-side"},b=["src"],M={id:"right-area",class:"form-side"},U={class:"login-header"},I={class:"title-logo-wrapper"},L={class:"logo"},x=["src"],F={class:"form-wrapper"},N={class:"row"},$={class:"row"};function C(t,s,V,k,o,i){const n=c("Msg");return h(),f("div",_,[g(n,{ref:"msg"},null,512),e("div",w,[e("img",{src:`${i.appUrl}/app/views/images/Cover_${o.img}.jpg`,class:"bg-cover",alt:"Cover"},null,8,b)]),e("div",M,[e("div",U,[e("div",I,[s[3]||(s[3]=e("div",{class:"title"},[e("h1",null,"Affiliate Sign in")],-1)),e("div",L,[e("img",{src:`${i.appUrl}/app/views/images/logo.svg`,alt:"Logo"},null,8,x)])])]),e("div",F,[e("form",{onSubmit:s[2]||(s[2]=u((...r)=>i.doLogin&&i.doLogin(...r),["prevent"]))},[e("div",N,[s[4]||(s[4]=e("label",null,"Email",-1)),l(e("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=r=>o.form.email=r),required:"",placeholder:"email@example.com"},null,512),[[a,o.form.email]])]),e("div",$,[s[5]||(s[5]=e("label",null,"Password",-1)),l(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=r=>o.form.password=r),required:"",autocomplete:"on",placeholder:"********"},null,512),[[a,o.form.password]])]),s[6]||(s[6]=e("div",{class:"row btn-row"},[e("button",{class:"btn-success"},"SIGN IN")],-1))],32)])])])}const P=p(v,[["render",C],["__scopeId","data-v-e53b75b6"]]);export{P as default};
