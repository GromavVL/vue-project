import{_ as d,c as n,b as s,w as c,o as l}from"./index-x6f1RFcC.js";const h="data:image/svg+xml,%3csvg%20width='600'%20height='400'%20viewBox='0%200%20600%20400'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='600'%20height='400'%20fill='%23DDDFE4'/%3e%3cpath%20opacity='0.4'%20d='M282.5%20190C286.642%20190%20290%20186.642%20290%20182.5C290%20178.358%20286.642%20175%20282.5%20175C278.358%20175%20275%20178.358%20275%20182.5C275%20186.642%20278.358%20190%20282.5%20190Z'%20fill='%23B4BBC7'/%3e%3cpath%20opacity='0.4'%20d='M290%20245H310C328.856%20245%20338.284%20245%20344.142%20239.142C347.017%20236.267%20348.481%20232.533%20349.226%20227.247L321.74%20196.898C320.631%20195.688%20319.066%20195%20317.425%20195C315.872%20195%20314.383%20195.617%20313.286%20196.715L290%20220L279.196%20209.197C278.11%20208.11%20276.637%20207.5%20275.101%20207.5C273.446%20207.5%20271.871%20208.207%20270.772%20209.444L251.313%20230.239C252.161%20233.993%20253.558%20236.842%20255.858%20239.142C261.716%20245%20271.144%20245%20290%20245Z'%20fill='%23B4BBC7'/%3e%3cpath%20d='M310%20155H290C271.144%20155%20261.716%20155%20255.858%20160.858C250%20166.716%20250%20176.144%20250%20195V205C250%20223.856%20250%20233.284%20255.858%20239.142C261.716%20245%20271.144%20245%20290%20245H310C328.856%20245%20338.284%20245%20344.142%20239.142C350%20233.284%20350%20223.856%20350%20205V195C350%20176.144%20350%20166.716%20344.142%20160.858C338.284%20155%20328.856%20155%20310%20155Z'%20stroke='%23B4BBC7'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M282.5%20190C286.642%20190%20290%20186.642%20290%20182.5C290%20178.358%20286.642%20175%20282.5%20175C278.358%20175%20275%20178.358%20275%20182.5C275%20186.642%20278.358%20190%20282.5%20190Z'%20stroke='%23B4BBC7'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M347.5%20225L321.74%20196.898C320.631%20195.688%20319.065%20195%20317.425%20195C315.872%20195%20314.383%20195.617%20313.285%20196.715L290%20220L279.196%20209.197C278.11%20208.11%20276.637%20207.5%20275.101%20207.5C273.447%20207.5%20271.871%20208.207%20270.772%20209.444L252.5%20230'%20stroke='%23B4BBC7'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",g={name:"ImageUpload",props:{modelValue:[String,File]},emits:["update:modelValue"],inject:["appUrl"],data(){return{placeholderSvg:h,preview:""}},mounted(){this.setPreview(this.modelValue)},watch:{modelValue(e){this.setPreview(e)}},methods:{triggerInput(){this.$refs.input.click()},setPreview(e){if(!e){this.preview="";return}if(e instanceof File){const t=new FileReader;t.onload=i=>{this.preview=i.target.result},t.readAsDataURL(e)}else typeof e=="string"&&(e.startsWith("data:")?this.preview=e:e.startsWith("http")?this.preview=e:this.preview=this.appUrl?this.appUrl+"/"+e:e)},change(e){const t=e.target.files[0];if(t){const i=new FileReader;i.onload=p=>{this.preview=p.target.result},i.readAsDataURL(t),this.$emit("update:modelValue",t)}}}},C={class:"image-upload-container"},m={class:"image-preview-area"},u={key:0},w=["src"],f={key:1},_=["src"];function B(e,t,i,p,r,o){return l(),n("div",C,[s("div",m,[s("a",{href:"#",class:"select_img",onClick:t[0]||(t[0]=c((...a)=>o.triggerInput&&o.triggerInput(...a),["prevent"]))},[r.preview?(l(),n("span",u,[s("img",{src:r.preview,class:"im",alt:"Preview"},null,8,w)])):(l(),n("span",f,[s("img",{src:r.placeholderSvg,alt:"Upload placeholder"},null,8,_)]))])]),s("input",{type:"file",style:{display:"none"},ref:"input",accept:"image/jpeg, image/png, image/gif, image/webp, image/svg+xml",onChange:t[1]||(t[1]=a=>o.change(a))},null,544)])}const v=d(g,[["render",B],["__scopeId","data-v-2643f1c3"]]);export{v as I};
